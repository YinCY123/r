---
title: "03 data manipulation"
author: "yincy"
date: "3/9/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## adding columns to data frame
To merge two data frames horizontally, you can use the `merge` function. In most cases, two data frame are joined by one or more common key variables.  
```{r, eval=FALSE}
total <- merge(dataframeA, dataframeB, by = c("ID", "Country"))
```

If you're joining two matrices or data frames horizontally and don't need to specify a common key, you can use the `cbind` function.  

For the function to work properly, each object must have the same number of rows and sorted in the same order.  
```{r, eval=FALSE}
total <- cbind(A, B)
```


## adding rows to a data frame
The two data frames must have the same variables, but they don't have to be in the same order.  

```{r, eval=FALSE}
total <- rbind(A, B)
```


## Using SQL statements to manipulate data frames
```{r}
library(sqldf)
data(mtcars)

newdf <- sqldf("select * from mtcars where carb = 1 order by mpg", 
               row.names = TRUE)

sqldf("select avg(mpg) as avg_mpg, avg(disp) as avg_disp, gear from mtcars where cyl in (4, 6) group by gear" )
```



